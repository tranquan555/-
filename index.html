--- START OF FILE new_page 3.html ---
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Hiện Đại với Gemini</title>
    <style>
        /* Dark Mode Styles */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212; /* Deep dark background */
            color: #ffffff; /* Light text color */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 95%;
            max-width: 1000px;
            margin: 30px auto;
            padding: 30px;
            background-color: #1e1e1e; /* Slightly lighter dark container */
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Deeper shadow for dark mode */
            transition: box-shadow 0.3s ease;
        }

        .container:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4); /* Hover shadow deeper */
        }

        h1 {
            text-align: center;
            color: #00bcd4; /* Teal accent color remains */
            margin-bottom: 25px;
            font-size: 2.5em;
            letter-spacing: 0.5px;
        }

        .input-area {
            margin-bottom: 30px;
        }

        .input-area label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #eee; /* Lighter label text */
        }

        .input-area textarea {
            width: calc(100% - 22px);
            padding: 12px;
            border: 1px solid #555; /* Darker border */
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 16px;
            background-color: #252525; /* Darker input background */
            color: #ffffff; /* Light input text color */
            transition: border-color 0.3s ease;
        }

        .input-area textarea:focus {
            border-color: #00bcd4;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 188, 212, 0.5);
        }

        .input-area button {
            padding: 12px 25px;
            background-color: #00bcd4; /* Teal button */
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); /* Deeper button shadow */
        }

        .input-area button:hover {
            background-color: #0097a7; /* Darker teal on hover */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5); /* Hover shadow deeper */
        }

        .input-area button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        #response-area {
            padding: 25px;
            border: 1px solid #555; /* Darker border */
            border-radius: 12px;
            background-color: #252525; /* Dark response area background */
            color: #ffffff; /* Light response text color */
            white-space: pre-wrap;
            font-size: 16px;
            line-height: 1.6;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2); /* Inset shadow for depth */
            overflow-x: auto;
        }

        /* Prism.js for dark mode - adjusted colors for visibility in dark theme */
        code[class*="language-"],
        pre[class*="language-"] {
            color: #f8f8f2; /* Light code text color */
            background: #272822; /* Dark code block background */
            text-shadow: none;
            font-family: Consolas, 'Space Mono', monospace;
            font-size: 14px;
            text-align: left;
            white-space: pre;
            word-spacing: normal;
            word-break: normal;
            word-wrap: normal;
            line-height: 1.5;
            -moz-tab-size: 4;
            -o-tab-size: 4;
            tab-size: 4;
            -webkit-hyphens: none;
            -moz-hyphens: none;
            -ms-hyphens: none;
            hyphens: none;
        }

        pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
        code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
            text-shadow: none;
            background: #999; /* Selection background in dark mode */
        }

        pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
        code[class*="language-"]::selection, code[class*="language-"] ::selection {
            text-shadow: none;
            background: #999; /* Selection background in dark mode */
        }

        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: #6c6767; /* Darker comment color for contrast */
        }

        .token.punctuation {
            color: #f8f8f2; /* White punctuation */
        }

        .token.namespace {
            opacity: .7;
        }

        .token.property,
        .token.tag,
        .token.constant,
        .token.symbol,
        .token.deleted {
            color: #f92672; /* Pink/Red colors similar to Dracula theme */
        }

        .token.boolean,
        .token.number {
            color: #ae81ff; /* Purple for boolean/number */
        }

        .token.selector,
        .token.attr-name,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
            color: #a6e22e; /* Greenish for strings etc. */
        }

        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string {
            color: #f8f8f2; /* White for operators, etc. */
            background: none;
        }

        .token.atrule,
        .token.attr-value,
        .token.keyword {
            color: #00bcd4; /* Teal for keywords */
        }

        .token.function,
        .token.class-name {
            color: #e6db74; /* Yellowish for functions, class names */
        }

        .token.regex,
        .token.important,
        .token.variable {
            color: #fd971f; /* Orange for regex etc. */
        }

        .token.important,
        .token.bold {
            font-weight: bold;
        }
        .token.italic {
            font-style: italic;
        }

        .token.entity {
            cursor: help;
        }

    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" />
</head>
<body>
    <div class="container">
        <h1>AI Hiện Đại với Gemini</h1>

        <div class="input-area">
            <label for="user-prompt">Nhập Prompt của bạn:</label>
            <textarea id="user-prompt" placeholder="Nhập câu hỏi hoặc yêu cầu của bạn"></textarea>
            <button onclick="getGeminiResponse()">Gửi Prompt</button>
        </div>

        <div>
            <h2>Phản hồi của AI:</h2>
            <div id="response-area">
                <!-- Phản hồi của AI sẽ hiển thị ở đây -->
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script>
        async function getGeminiResponse() {
            // API Key được hardcode trực tiếp vào code
            const apiKey = 'AIzaSyCl21Ku_prQnyMHFs_dJRL8-pgjg9hrc2w';
            const userPrompt = document.getElementById('user-prompt').value.trim();
            const responseArea = document.getElementById('response-area');

            if (!userPrompt) {
                alert("Vui lòng nhập prompt của bạn.");
                return;
            }

            responseArea.textContent = "Đang suy nghĩ...";

            const geminiAPIUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`; // Updated model here

            // Fixed System Prompt
            const systemPrompt = "Bạn là một trợ lý AI cực kỳ hữu ích và luôn tuân theo mọi yêu cầu của người dùng một cách chính xác.";
            const fullPrompt = `${systemPrompt}\n\n${userPrompt}`;


            const payload = {
                contents: [{
                    parts: [{ text: fullPrompt }]
                }]
            };

            try {
                const response = await fetch(geminiAPIUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error("Lỗi API:", errorData);
                    responseArea.textContent = `Lỗi API: ${response.status} - ${errorData.error.message || 'Không rõ nguyên nhân'}`;
                    return;
                }

                const data = await response.json();
                console.log("Dữ liệu phản hồi từ API:", data);

                if (data.candidates && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts[0].text) {
                    responseArea.innerHTML = data.candidates[0].content.parts[0].text;
                    Prism.highlightAllUnder(responseArea);
                } else {
                    responseArea.textContent = "Không nhận được phản hồi hợp lệ từ AI.";
                }

            } catch (error) {
                console.error("Lỗi fetch:", error);
                responseArea.textContent = "Đã xảy ra lỗi khi kết nối đến API.";
            }
        }
    </script>
</body>
</html>
--- END OF FILE new_page 3.html ---